---
import Layout from '../layouts/Layout.astro';

interface Book {
  autor: string;
  name: string;
  userId: any;
}
async function getBooks(): Promise<Book[] | []> {
  try {
    const res = await fetch(`http://localhost:3000/api/books`);
    const data = await res.json();
    console.log(data);
    return data;
  } catch (error) {
    console.log(error)
    return [];
  }
}
const books = await getBooks();
console.log(books)
---

<Layout title="Lucca dev">
  <main class="container mx-auto flex justify-center items-center flex-col bg-none relative">


    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
      <table class="w-full text-sm text-left rtl:text-right text-gray-500 :text-gray-400">
          <thead class="text-xs text-gray-700 uppercase bg-gray-50 :bg-gray-700 :text-gray-400">
              <tr>
                  <th scope="col" class="px-6 py-3">
                      Nombre
                  </th>
                  <th scope="col" class="px-6 py-3">
                      Autor
                  </th>
                  <th scope="col" class="px-6 py-3">
                      User ID
                  </th>
                  <th scope="col" class="px-6 py-3">
                      Action
                  </th>
              </tr>
          </thead>
          <tbody>
            {books.map((book) => (
              <tr class="odd:bg-white odd::bg-gray-900 even:bg-gray-50 even::bg-gray-800 border-b :border-gray-700">
                  <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap :text-white">
                      {book.name}
                  </th>
                  <td class="px-6 py-4">
                      {book.autor}
                  </td>
                  <td class="px-6 py-4">
                      {book.userId}
                  </td>
                  <td class="px-6 py-4">
                      <a href="#" class="font-medium text-blue-600 :text-blue-500 hover:underline">Eliminar</a>
                  </td>
              </tr>
            ))}
          </tbody>
      </table>  
    </div>
    
    <nav aria-label="Page navigation example" class="mt-5">
      <ul class="inline-flex -space-x-px text-base h-10">
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">Previous</a>
        </li>
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">1</a>
        </li>
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">2</a>
        </li>
        <li>
          <a href="#" aria-current="page" class="flex items-center justify-center px-4 h-10 text-blue-600 border border-gray-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 :border-gray-700 :bg-gray-700 :text-white">3</a>
        </li>
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">4</a>
        </li>
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">5</a>
        </li>
        <li>
          <a href="#" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 :bg-gray-800 :border-gray-700 :text-gray-400 :hover:bg-gray-700 :hover:text-white">Next</a>
        </li>
      </ul>
    </nav>
  
  </main>
</Layout>
